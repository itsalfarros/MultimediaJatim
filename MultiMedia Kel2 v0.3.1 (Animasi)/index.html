<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Explore Jawa Timur â€” Budaya & Pariwisata</title>
  <meta name="description" content="Explore Jawa Timur â€” profil, budaya, pariwisata, geografi, dan fakta unik. Desain modern, interaktif, dan ramah pengguna." />

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">

  <style>
:root{
  --bg:#ffffff;
  --card:#eaefef;
  --muted:#000000;
  --accent:#0061ff;
  --accent-2:#F4B400;
  --glass: rgba(255,255,255,0.6);
  --radius:14px;
  --max-width:1150px;
  --shadow-sm: 0 6px 18px rgba(16,24,40,0.06);
  --shadow-md: 0 12px 28px rgba(16,24,40,0.08);
  --ease: cubic-bezier(.2,.9,.2,1);
}

/* Reset & base */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:'Inter',system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial;
  background:linear-gradient(180deg,var(--bg),#ffffff);
  color:var(--muted);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  transition:background .35s var(--ease), color .35s var(--ease);
}
a{color:var(--accent); text-decoration:none}
.container{max-width:var(--max-width);margin:0 auto;padding:0 20px}

/* Header */
header{
  position:fixed;
  left:0; right:0; top:0;
  z-index:40;
  backdrop-filter:blur(6px);
  background:linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.2));
  padding:14px 22px; 
}

main{
  padding-top:120px !important; /* ubah sesuai selera, 100â€“140px ideal */
}

.nav-wrap{width:100%;max-width:var(--max-width);display:flex;align-items:center;justify-content:space-between;gap:16px;
  background:linear-gradient(180deg, rgba(255,255,255,0.8), rgba(255,255,255,0.6));
  backdrop-filter: blur(8px);
  padding:10px 14px;border-radius:12px;box-shadow:var(--shadow-sm);pointer-events:auto;
  transition:background .25s var(--ease);
}

.brand{display:flex;align-items:center;gap:12px}
.logo{width:48px;height:48px;border-radius:12px;object-fit:cover;box-shadow:0 6px 18px rgba(0,0,0,0.08)}
nav ul{display:flex;gap:14px;list-style:none;margin:0;padding:0;align-items:center}
nav a{font-weight:600;color:var(--muted);padding:8px 10px;border-radius:10px;display:inline-block;transition:background .2s,var(--ease);font-size:14px; opacity: 0; animation: fadeIn 0.5s ease forwards;}
@keyframes fadeIn {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
nav a.active, nav a:hover{background:rgba(0,97,255,0.08);color:var(--accent); transform: translateY(-2px);}
.controls{display:flex;gap:8px;align-items:center}

.toggle{background:transparent;border:1px solid rgba(0,0,0,0.06);padding:8px 10px;border-radius:10px;cursor:pointer;font-weight:700}

/* === AUDIO BUTTON === */
.audio-btn{
  background:transparent;
  border:1px solid rgba(0,0,0,0.06);
  padding:8px 10px;
  border-radius:10px;
  cursor:pointer;
  font-weight:700;
  font-size:16px;
  color:var(--muted);
  display:flex;
  align-items:center;
  gap:6px;
  transition:0.25s var(--ease);
}
.audio-btn:hover{
  background:rgba(0,97,255,0.08);
  color:var(--accent);
  transform:scale(1.08);
}
/* animasi ikon saat ON */
.audio-playing{
  animation: audioPulse 0.9s infinite ease-in-out;
  color:var(--accent);
}
@keyframes audioPulse{
  0%{ transform:scale(1); }
  50%{ transform:scale(1.18); }
  100%{ transform:scale(1); }
}

/* Hero */
.hero{padding:120px 0 36px}
.hero-grid{display:grid;grid-template-columns:1fr 420px;gap:28px;align-items:center}
@media(max-width:900px){.hero-grid{grid-template-columns:1fr;}.hero{padding-top:100px}}
h1{font-family:'Poppins',sans-serif;color:var(--accent);font-size:34px;margin:0 0 10px}
.lead{font-size:15px;color:var(--muted);line-height:1.6}
.cta{margin-top:18px;display:flex;gap:10px;flex-wrap:wrap}
.btn-primary{background:linear-gradient(90deg,var(--accent),#004ad8);color:white;padding:10px 16px;border-radius:12px;border:none;cursor:pointer;font-weight:700;box-shadow:0 8px 24px rgba(0,97,255,0.12);transition:transform .22s var(--ease)}
.btn-primary:hover{transform:translateY(-3px)}
.btn-ghost{background:transparent;border:1px solid rgba(0,0,0,0.06);padding:10px 14px;border-radius:12px; transition: background-color 0.3s var(--ease), color 0.3s var(--ease);}
.btn-ghost:hover{background:rgba(0,97,255,0.08);color:var(--accent)}

.card{
  background:var(--card);
  border-radius:var(--radius);
  padding:18px;
  box-shadow:var(--shadow-md);
}
.stats{display:flex;gap:12px;margin-top:14px}
.stat{flex:1;text-align:center;padding:8px 6px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.2))}

/* sections */
section{padding:60px 0}
h2{font-family:'Poppins',sans-serif;color:var(--accent);margin:0 0 10px;font-size:22px}
.muted{color:var(--muted)}
.grid-3{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px}
.gallery{
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: minmax(240px, 1fr);
  gap: 12px;
  overflow-x: auto;
  padding: 8px 2px; /* Add slight padding for scrollbar */
  scrollbar-width: thin;
  scrollbar-color: var(--accent) var(--card);
}
.gallery::-webkit-scrollbar { height: 8px; }
.gallery::-webkit-scrollbar-track { background: var(--card); border-radius: 4px; }
.gallery::-webkit-scrollbar-thumb { background-color: var(--accent); border-radius: 4px; }
.gallery > * { min-width: 240px; } /* Prevent items from shrinking too much */
@keyframes pulse {
  0% { background-color: #eee; }
  50% { background-color: #e0e0e0; }
  100% { background-color: #eee; }
}
img {
  animation: pulse 1.5s infinite;
}
img:not([src]), img[src=""] {
  background-color: #eee;
}
.gallery img, .gallery video {
  width: 100%;
  height: 200px;
  object-fit: cover;
  border-radius: 12px;
  cursor: pointer;
  transition: transform .35s var(--ease);
  box-shadow: var(--shadow-sm);
}
.gallery img:hover, .gallery video:hover {
  transform: scale(1.04);
}

.place{display:flex;gap:12px;align-items:flex-start}
.place img{width:120px;height:80px;object-fit:cover;border-radius:10px}

.video-row {
  display: flex;
  gap: 12px;
  margin-top: 16px;
}
.video-row > * {
  flex: 1;
  min-width: 0;
  position: relative;
  padding-bottom: 56.25%; /* 16:9 aspect ratio */
  height: 0;
  border-radius: 12px;
  overflow: hidden;
  background: #000;
}
.video-row video,
.video-row iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border: 0;
}
.video-row video {
  object-fit: cover;
  cursor: pointer;
}

.yt-small {
  max-width: 380px;
  margin-top: 12px;
}
.yt-lite{
  position: relative;
  display: block;
  width: 100%;
  padding-bottom: 56.25%;
  height: 0;
  border-radius: 12px;
  overflow: hidden;
  background: #000;
  cursor: pointer;
  box-shadow: var(--shadow-sm);
}
.yt-lite:focus-visible{
  outline:2px solid var(--accent);
  outline-offset:2px;
}
.yt-thumb{
  position:absolute;
  inset:0;
  background-size:cover;
  background-position:center;
  filter:brightness(0.82);
  transition:transform .3s var(--ease), filter .3s var(--ease);
}
.yt-lite:hover .yt-thumb{transform:scale(1.04);filter:brightness(0.92);}
.yt-play{
  position:absolute;
  top:50%;left:50%;
  transform:translate(-50%,-50%);
  width:56px;height:56px;
  border-radius:50%;
  background:rgba(0,0,0,0.55);
  color:#fff;
  display:flex;align-items:center;justify-content:center;
  font-size:24px;
  box-shadow:0 12px 26px rgba(0,0,0,0.25);
}
.yt-label{
  position:absolute;
  left:12px;
  bottom:12px;
  background:rgba(0,0,0,0.58);
  color:#fff;
  padding:6px 10px;
  border-radius:999px;
  font-weight:700;
  font-size:12px;
  letter-spacing:0.2px;
}
.yt-fallback{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background:var(--card);
  color:var(--accent);
  font-weight:700;
  text-decoration:none;
  border:1px dashed rgba(0,97,255,0.4);
  border-radius:12px;
}

/* map placeholder */
.map-placeholder{height:220px;border-radius:12px;background:linear-gradient(135deg,#ffffff,#fff5d9);display:flex;align-items:center;justify-content:center;color:#425c7a;font-weight:700}

/* lightbox */
.lightbox{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.75);z-index:120}
.lightbox img{max-width:96%;max-height:92%;border-radius:12px;box-shadow:0 20px 50px rgba(0,0,0,0.6)}

/* back to top */
#toTop{position:fixed;right:18px;bottom:18px;background:var(--accent);color:white;border:none;padding:12px;border-radius:12px;cursor:pointer;box-shadow:0 8px 28px rgba(0,97,255,0.18);display:none;z-index:90}

/* reveal animations */
.reveal{opacity:0;transform:translateY(18px);transition:opacity .6s var(--ease), transform .6s var(--ease)}
.reveal.visible{opacity:1;transform:none}

/* small responsive */
@media(max-width:560px){nav ul{display:none} .nav-wrap{padding:12px}}

/* ---- PAGE TRANSITION (dari Code 2) ---- */
main{padding-top:20px}
.page{
  display:none;
  opacity:0;
  transform:translateX(-20px);
  transition:opacity .35s var(--ease), transform .35s var(--ease);
  max-width:var(--max-width);
  margin:24px auto;
  background:var(--card);
  border-radius:18px;
  box-shadow:0 18px 40px rgba(2,6,23,0.06);
  padding:28px;
  position:relative;
  z-index:1;
}
.page.active{
  display:block;
  opacity:1;
  transform:none;
}
/* ketika header tetap terlihat, beri sedikit jarak atas agar terlihat seperti halaman terpisah */
.page.hero{padding-top:48px}

/* ---- INTERACTIVE CARD 3D ---- */
.grid-3 {
  perspective: 1000px;
}
.card-interactive {
  transform-style: preserve-3d;
  transition: transform 0.1s ease, box-shadow 0.2s ease;
  will-change: transform;
}
.card-interactive:hover {
  box-shadow: 0 20px 40px rgba(16,24,40,0.12);
}

/* small: keep footer outside pages so it's persistent */
  </style>
</head>
<body>
  <!-- Header / Nav -->
<header>
  <div class="nav-wrap container" role="navigation" aria-label="Main navigation">
    <div class="brand">
      <img src="logo-explore.png" alt="Logo Explore Jawa Timur" class="logo" loading="lazy">
      <div>
        <div style="font-weight:700;color:var(--accent)">Explore Jawa Timur</div>
        <div style="font-size:12px;color:var(--muted)">Bumi Majapahit</div>
      </div>
    </div>

    <div style="display:flex;align-items:center;gap:12px">

      <nav id="mainNav">
        <a href="#profil">Profil</a>
        <a href="#budaya">Budaya</a>
        <a href="#pariwisata">Pariwisata</a>
        <a href="#geografi">Geografi</a>
        <a href="#fakta">Fakta</a>
      </nav>

      <!-- === AUDIO BUTTON === -->
      <button id="musicBtn" class="audio-btn" aria-pressed="false" title="Music toggle">ðŸ”‡</button>

      <!-- BACKSOUND -->
      <audio id="backsound" loop preload="auto">
        <source src="bs_donkgedang.mp3" type="audio/mpeg">
      </audio>

    </div>
  </div>
</header>


  <!-- Main -->
  <main class="container" style="padding-top:26px;">

    <!-- HERO / Profil (page active default) -->
    <section class="page active" id="profil" role="region" aria-label="Profil">
      <div class="hero-grid">
        <div>
          <h1 class="reveal">Selamat Datang di Jawa Timur</h1>
          <p class="lead reveal" style="transition-delay:.05s">Temukan keindahan budaya, alam, dan sejarah dari provinsi kaya warna â€” dari Gunung Semeru hingga pantai selatan yang memukau.</p>
          <p class="lead reveal" style="transition-delay:.05s">Jawa Timur merupakan salah satu provinsi paling strategis di Indonesia, dengan Surabaya sebagai ibu kota dan pusat ekonomi utama di kawasan timur. Provinsi ini dikenal sebagai lumbung pangan dan industri, menyumbang porsi signifikan terhadap PDB nasional berkat sektor pertanian, manufaktur, dan perdagangan yang kuat, didukung oleh infrastruktur vital seperti Pelabuhan Tanjung Perak dan Bandara Internasional Juanda. Secara geografis, Jawa Timur memiliki keragaman yang luar biasa, mulai dari dataran rendah subur hingga kawasan pegunungan berapi aktif, menjadikannya rumah bagi destinasi wisata ikonis seperti Gunung Bromo dan kawah api biru Ijen. Keragaman ini juga tercermin dalam masyarakatnya, yang didominasi oleh Suku Jawa dan Suku Madura, melahirkan kekayaan budaya, bahasa, dan tradisi lokal yang unik. </p>
          <div class="cta reveal" style="transition-delay:.1s">
            <button class="btn-primary" onclick="showPage('pariwisata')">Jelajahi Destinasi</button>
            <button class="btn-ghost" onclick="showPage('budaya')">Pelajari Budaya</button>
          </div>

          <div class="card stats reveal" style="margin-top:18px;display:flex;gap:12px;transition-delay:.15s">
            <div class="stat">
              <div style="font-size:18px;font-weight:700;color:var(--accent)"><span class="counter" data-target="38">0</span></div>
              <div class="muted">Kab/Kota</div>
            </div>
            <div class="stat">
              <div style="font-size:18px;font-weight:700;color:var(--accent)"><span class="counter" data-target="41919906">0</span></div>
              <div class="muted">Penduduk</div>
            </div>
            <div class="stat">
              <div style="font-size:18px;font-weight:700;color:var(--accent)"><span style="font-size:18px;color:var(--muted)">Surabaya</span></div>
              <div class="muted">Ibu Kota</div>
            </div>
          </div>
        </div>

        <div class="card reveal" style="transition-delay:.18s">
          <h3 style="margin-top:0">Profil Singkat</h3>
          <p class="muted">Jawa Timur adalah provinsi bersejarah dengan pusat kebudayaan Majapahit. Kaya lanskap: gunung, dataran tinggi, dan pantai.</p>
          <p class="muted" style="margin:6px 0 8px 0">Luas wilayah: Â±47.800 kmÂ² â€” 29 kabupaten & 9 kota.</p>
          <div class="yt-lite" data-youtube-id="ND4cHN7k5SA" data-title="Profil Jawa Timur" tabindex="0" aria-label="Putar video Profil Jawa Timur"></div>
        </div>
      </div>
    </section>

    <!-- BUDAYA -->
    <section id="budaya" class="page" role="region" aria-label="Budaya">
      <h2>Budaya Daerah</h2>
      <p class="muted">Beragam tradisi, pakaian, tarian, musik, dan kuliner yang hidup dan masih dirayakan.</p>

      <div class="grid-3" style="margin-top:16px">
        <div class="card card-interactive">
          <h4>Rumah Adat</h4>
          <p class="muted">Joglo, limasan, dan rumah tradisional lain menampilkan ukiran dan filosofi lokal.</p>
        </div>
        <div class="card card-interactive">
          <h4>Pakaian Tradisional</h4>
          <p class="muted">Kebaya, beskap, dan kain tradisional tampil di upacara adat dan pernikahan.</p>
        </div>
        <div class="card card-interactive">
          <h4>Tarian & Musik</h4>
          <p class="muted">Reog Ponorogo, Tari Remo, dan gamelan sebagai identitas seni panggung Jawa Timur.</p>
        </div>
        <div class="card card-interactive">
          <h4>Makanan Khas</h4>
          <p class="muted">Rawon, Rujak Cingur, Lontong Balap â€” warisan kuliner yang kuat rasa dan sejarahnya.</p>
        </div>
        <div class="card card-interactive">
          <h4>Lagu & Sastra</h4>
          <p class="muted">Lagu-lagu daerah dan pantun tradisional masih diwariskan turun-temurun.</p>
        </div>
      </div>
    </section>

    <!-- PARIWISATA -->
<section id="pariwisata" class="page reveal" style="transition-delay:.05s">
  <h2>Pariwisata â€” Destinasi Populer</h2>
  <p class="muted">Beberapa destinasi terbaik yang wajib dikunjungi â€” lengkap dengan deskripsi singkat.</p>

  <div class="gallery" style="margin-top:14px">
    <video src="AniPantaiKlayar.mp4" muted playsinline loop onclick="openLightbox(this)" data-type="video" title="Animasi Pantai Klayar"></video>
    <img src="gunungbromo.jpg" alt="Gunung Bromo" data-title="Gunung Bromo" loading="lazy" onclick="openLightbox(this)">
    <img src="pantaiklayar.jpg" alt="Pantai Klayar" data-title="Pantai Klayar" loading="lazy" onclick="openLightbox(this)">
    <img src="tumpaksewu.jpg" alt="Air Terjun Tumpak Sewu" data-title="Tumpak Sewu" loading="lazy" onclick="openLightbox(this)">
    <img src="batunight.jpg" alt="Batu Night Spectacular" data-title="Batu Night Spectacular" loading="lazy" onclick="openLightbox(this)">
  </div>

  <!-- GRID SEMUA CARD -->
  <div style="margin-top:18px;display:grid;gap:12px">

    <!-- CARD 1 â€” BROMO -->
    <div class="card reveal" style="transition-delay:.08s">
      <div class="place">
        <img src="gunungbromo.jpg" alt="Bromo" loading="lazy" onclick="openLightbox(this)">
        <div>
          <h4 style="margin:0;color:var(--accent)">Gunung Bromo</h4>
          <p class="muted" style="margin:6px 0 0 0">
            Gunung Bromo adalah salah satu gunung berapi aktif paling terkenal di dunia dan merupakan bagian dari Taman Nasional Bromo Tengger Semeru. Keunikan utama Bromo adalah keberadaannya di tengah lautan pasir vulkanik yang luas, yang oleh penduduk setempat disebut "Segara Wedi" atau Lautan Pasir. Selain dikenal sebagai tempat terbaik untuk menyaksikan matahari terbit yang spektakuler, Bromo juga merupakan gunung suci bagi Suku Tengger.
          </p>
          <p><strong>Akses:</strong> Kecamatan Sukapura, Probolinggo.</p>

          <div class="yt-small">
            <div class="yt-lite" data-youtube-id="UOw3uN487HE" data-title="Gunung Bromo" tabindex="0" aria-label="Putar video Gunung Bromo"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- CARD 2 â€” KLAYAR -->
    <div class="card reveal" style="transition-delay:.12s">
      <div class="place">
        <img src="Pantai-Klayar.jpg" alt="Pantai Klayar" loading="lazy" onclick="openLightbox(this)">
        <div>
          <h4 style="margin:0;color:var(--accent)">Pantai Klayar (Pacitan)</h4>
          <p class="muted" style="margin:6px 0 0 0">
            Pantai Klayar yang terletak di Pacitan terkenal dengan formasi batu karang raksasa yang menawan, menjadikannya salah satu pantai tercantik di pesisir selatan Jawa. Keunikan paling menarik dari Pantai Klayar adalah fenomena alam yang disebut "Seruling Samudra". Fenomena ini terjadi ketika ombak menghantam celah sempit pada batu karang, mendorong air ke atas dan menghasilkan suara siulan yang indah, mirip seperti suara seruling.
          </p>
          <p><strong>Akses:</strong> Desa Sendang, Pacitan.</p>

          <div class="yt-small">
            <div class="yt-lite" data-youtube-id="KUUZ8NoBa8k" data-title="Pantai Klayar" tabindex="0" aria-label="Putar video Pantai Klayar"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- CARD 3 â€” TUMPAK SEWU -->
    <div class="card reveal" style="transition-delay:.16s">
      <div class="place">
        <img src="tumpaksewu.jpg" alt="Tumpak Sewu" loading="lazy" onclick="openLightbox(this)">
        <div>
          <h4 style="margin:0;color:var(--accent)">Air Terjun Tumpak Sewu (Lumajang)</h4>
          <p class="muted" style="margin:6px 0 0 0">
            Dijuluki sebagai "Niagara Mini" atau "Tebing Nirwana" di Indonesia, Air Terjun Tumpak Sewu menawarkan pemandangan yang megah dan berbeda. Keunikan air terjun ini terletak pada bentuknya yang menyerupai tirai air yang lebar, di mana aliran airnya yang sangat deras turun dari tebing melingkar setinggi sekitar 120 meter. Air terjun ini bukan hanya satu aliran, melainkan terdiri dari ribuan aliran kecil yang terlihat menyatu.
          </p>
          <p><strong>Akses:</strong> Desa Sidomulyo, Pronojiwo, Lumajang.</p>

          <div class="yt-small">
            <div class="yt-lite" data-youtube-id="Bjvm1zlZKGM" data-title="Air Terjun Tumpak Sewu" tabindex="0" aria-label="Putar video Tumpak Sewu"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- CARD 4 â€” BNS -->
    <div class="card reveal" style="transition-delay:.20s">
      <div class="place">
        <img src="batunight.jpg" alt="BNS Malang" loading="lazy" onclick="openLightbox(this)">
        <div>
          <h4 style="margin:0;color:var(--accent)">Batu Night Spectacular</h4>
          <p class="muted" style="margin:6px 0 0 0">
            destinasi wisata malam yang unik, terletak di Kota Batu (dekat Malang) dengan konsep pasar malam modern. Daya tarik utamanya adalah suasana malam yang fantastis dengan atraksi cahaya dan lampion yang spektakuler.
          </p>
          <p><strong>Akses:</strong> Kota Batu, Malang.</p>

          <div class="yt-small">
            <div class="yt-lite" data-youtube-id="HW_fzgz2BE4" data-title="Batu Night Spectacular" tabindex="0" aria-label="Putar video Batu Night Spectacular"></div>
          </div>
        </div>
      </div>
    </div>

  </div> <!-- penutup grid -->
</section> <!-- penutup pariwisata -->

    <!-- GEOGRAFI -->
    <section id="geografi" class="page" role="region" aria-label="Geografi">
      <h2>Geografi & Alam</h2>

      <div style="display:grid;grid-template-columns:1fr 340px;gap:18px;margin-top:12px">
        <div class="card">
          <h4>Bentang Alam</h4>
          <p class="muted">Jawa Timur memiliki gunung berapi aktif (Semeru, Bromo), dataran tinggi, hutan, dan garis pantai panjang yang menciptakan ekosistem beragam.</p>
          <h4 style="margin-top:12px">Iklim</h4>
          <p class="muted">Tropis; musim hujan (Oktâ€“Mar) dan kemarau (Aprâ€“Sep). Suhu berkisar 22â€“34Â°C, bervariasi menurut ketinggian.</p>
          <h4 style="margin-top:12px">Flora & Fauna</h4>
          <p class="muted">banteng Jawa, lutung Jawa, anggrek, dan pohon jati.</p>
        </div>

        <div class="card">
          <h4>Peta & Lokasi</h4>
                      <iframe
                      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d126543.81900663378!2d112.654677!3d-7.977925!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd7e3ee5d836a63%3A0x3027a76e352be60!2sJawa%20Timur!5e0!3m2!1sid!2sid!4v1730979600000!5m2!1sid!2sid"
                      width="100%" height="260" style="border:0;border-radius:12px;" allowfullscreen="" loading="lazy" title="Peta Jawa Timur"></iframe>
          <p class="muted" style="margin-top:8px;font-size:13px">
            Tips: klik + tahan pada peta atau gunakan Google Maps untuk rute detail ke destinasi seperti Bromo, Tumpak Sewu, atau Pantai Klayar.
          </p>
        </div>
      </div>
    </section>

    <!-- FAKTA -->
    <section id="fakta" class="page" role="region" aria-label="Fakta">
      <h2>Fakta Unik & Tradisi</h2>

      <div class="grid-3" style="margin-top:12px">
        <div class="card card-interactive"><h4>Julukan</h4><p class="muted">Bumi Majapahit â€” merujuk pada kejayaan historis Kerajaan Majapahit...</p></div>
        <div class="card card-interactive"><h4>Festival</h4><p class="muted">Jember Fashion Carnaval, Festival Reog Ponorogo, Malang Flower Carnival.</p></div>
        <div class="card card-interactive"><h4>Upacara Adat</h4><p class="muted">Larung sesaji, sedekah laut, dan ritual panen masih dijalankan di beberapa komunitas pesisir dan agraris.</p></div>
        <div class="card card-interactive"><h4>Hari Ulamg Tahun</h4><p class="muted">12 Oktober â€” Hari Ulang Tahun Provinsi Jawa Timur.</p></div>
        <div class="card card-interactive"><h4>Fakta Menarik</h4><p class="muted">Gunung Semeru adalah titik tertinggi di Pulau Jawa (3.676 m).</p></div>
        <div class="card card-interactive"><h4>Reog Ponorogo</h4><p class="muted">Seni pertunjukan ikonik dari Jawa Timur yang berasal dari Kabupaten Ponorogo...</p></div>
      </div>
    </section>

  </main>

  <!-- Footer (persisten di bawah) -->
  <footer style="padding:28px 0;margin-top:30px;background:linear-gradient(180deg, rgba(245,246,250,0.8), rgba(250,250,250,0.6))">
    <div class="container" style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:12px;">
      <div>
        <strong style="color:var(--accent)">Explore Jawa Timur</strong><br>
        <small class="muted">Dibuat untuk proyek kelompok 2 Â©2025</small>
      </div>
      <div style="display:flex;gap:8px;align-items:center;">
        <span style="background:var(--glass);padding:6px 10px;border-radius:8px;font-weight:700">Budaya</span>
        <span style="background:var(--glass);padding:6px 10px;border-radius:8px;font-weight:700">Pariwisata</span>
        <span style="background:var(--glass);padding:6px 10px;border-radius:8px;font-weight:700">Geografi</span>
      </div>
    </div>
  </footer>

  <!-- Lightbox -->
  <div id="lightbox" class="lightbox" role="dialog" aria-hidden="true" onclick="closeLightbox(event)">
    <img id="lightboxImg" src="" alt="">
    <video id="lightboxVideo" style="max-width: 96%; max-height: 92%; border-radius: 12px; display: none;" src="" controls></video>
  </div>

  <!-- Back to top -->
  <button id="toTop" aria-label="Kembali ke atas">â†‘</button>

  <script>
    /* -------------------------
       Lightbox
    ------------------------- */
    function openLightbox(element){
      const lb = document.getElementById('lightbox');
      const lbImg = document.getElementById('lightboxImg');
      const lbVideo = document.getElementById('lightboxVideo');

      // Hide both initially and reset video
      lbImg.style.display = 'none';
      lbVideo.style.display = 'none';
      lbVideo.pause();
      lbVideo.currentTime = 0;

      // Check if the clicked element is a video or has a video source
      const isVideo = element.tagName.toLowerCase() === 'video' || element.dataset.type === 'video';

      if (isVideo) {
        const videoSource = element.src || element.dataset.src;
        lbVideo.src = videoSource;
        lbVideo.style.display = 'block';
        lbVideo.play();
      } else { // Assume image for anything else
        lbImg.src = element.src;
        lbImg.alt = element.getAttribute('data-title') || element.alt || '';
        lbImg.style.display = 'block';
      }

      lb.style.display = 'flex';
      lb.setAttribute('aria-hidden','false');
    }
    function closeLightbox(e){
      if(!e || e.target.id === 'lightbox'){
        const lb = document.getElementById('lightbox');
        const lbVideo = document.getElementById('lightboxVideo');
        
        lb.style.display = 'none';
        lb.setAttribute('aria-hidden','true');
        
        // Stop video playback and reset src
        if (!lbVideo.paused) {
          lbVideo.pause();
        }
        lbVideo.src = '';
        document.getElementById('lightboxImg').src = '';
      }
    }
    document.addEventListener('keydown', e => { if(e.key === 'Escape') closeLightbox(); });

    /* -------------------------
       Page switching (SPA-like)
       - showPage(id)
       - history management
    ------------------------- */
    (function(){
      const pages = Array.from(document.querySelectorAll('.page'));
      const navLinks = Array.from(document.querySelectorAll('nav a[href^="#"]'));
      const navItemsMap = {}; // id -> anchor element
      navLinks.forEach(a=> navItemsMap[a.getAttribute('href').slice(1)] = a);

      // utility: activate nav link
      function setActiveNav(id){
        navLinks.forEach(a => a.classList.toggle('active', a.getAttribute('href') === '#' + id));
      }

      // show page by id
      function setActive(id, push=true){
        const target = document.getElementById(id);
        if(!target) return;
        // hide others and show target
        pages.forEach(p => p.classList.toggle('active', p.id === id));
        // update nav active state
        setActiveNav(id);
        // scroll top instantly (faux page)
        window.scrollTo({top:0,behavior:'instant'});
        // update title
        const heading = target.querySelector('h1, h2, h3, h4');
        if(heading) document.title = heading.textContent + ' â€” Explore Jawa Timur';
        // push history
        if(push) history.pushState({page:id}, '', '#'+id);
        // trigger reveal animations immediately for this page
        runRevealsIn(target);
      }

      // expose global
      window.showPage = function(id){ setActive(id, true); }

      // attach nav links
      navLinks.forEach(a=>{
        a.addEventListener('click', function(ev){
          const id = this.getAttribute('href').slice(1);
          if(!id) return;
          ev.preventDefault();
          setActive(id,true);
        });
      });

      // handle back/forward
      window.addEventListener('popstate', ()=>{
        const id = location.hash ? location.hash.slice(1) : 'profil';
        setActive(id,false);
      });

      // initial load
      const initial = location.hash ? location.hash.slice(1) : 'profil';
      setActive(initial, false);
    })();

    /* -------------------------
       Reveal animations (simple)
       - We run IntersectionObserver at load for anything visible.
       - When pages are switched, we force-run reveals inside active page.
    ------------------------- */
    const globalRevealObserver = new IntersectionObserver((entries, obs) => {
      entries.forEach(e => {
        if(e.isIntersecting){
          e.target.classList.add('visible');
          obs.unobserve(e.target);
        }
      });
    }, {threshold:0.12});

// observe any reveals that exist in document (initial)
document.querySelectorAll('.reveal').forEach(r => globalRevealObserver.observe(r));

function runRevealsIn(container){
  // if container has elements with .reveal that were not yet visible, mark them visible (so animation runs when page shown)
  container.querySelectorAll('.reveal').forEach(r => {
    // if not visible yet, toggle class to trigger transition
    if(!r.classList.contains('visible')){
      // small timeout to allow CSS transition (optional)
      r.style.transitionDelay = r.style.transitionDelay || '0s';
      requestAnimationFrame(()=> r.classList.add('visible'));
    }
  });
}

/* -------------------------
   Counters
   - supports being triggered when its page becomes active
------------------------- */
function animateCounter(el){
  if(!el || el.dataset.started === "true") return;
  const target = +el.getAttribute('data-target') || 0;
  el.dataset.started = "true";
  const duration = 1400;
  const start = performance.now();
  const initial = 0;
  function tick(now){
    const progress = Math.min((now - start) / duration, 1);
    const val = Math.floor(progress * (target - initial) + initial);
    el.textContent = val.toLocaleString('id');
    if(progress < 1) requestAnimationFrame(tick);
    else el.textContent = target.toLocaleString('id');
  }
  requestAnimationFrame(tick);
}

// run counters that are inside a container (or whole document)
function runCountersIn(container){
  const targets = container.querySelectorAll('.counter');
  targets.forEach(el => {
    // if visible (or page active), start immediately
    animateCounter(el);
  });
}

// On initial load, attempt to start counters in the visible page
document.querySelectorAll('.page.active').forEach(p => runCountersIn(p));

/* -------------------------
   Back to top + nav highlight on scroll fallback
------------------------- */
const toTop = document.getElementById('toTop');
window.addEventListener('scroll', () => {
  if(window.scrollY > 400) toTop.style.display = 'block';
  else toTop.style.display = 'none';
});
toTop.addEventListener('click', () => window.scrollTo({top:0,behavior:'smooth'}));

/* -------------------------
   Misc: graceful image fallback
------------------------- */
document.querySelectorAll('img').forEach(img=>{
  img.addEventListener('error', () => {
    img.style.objectFit = 'contain';
    img.style.background = '#eee';
  });
});

/* -------------------------
   Audio control (backsound)
------------------------- */
/* -------------------------
   Audio control (backsound)
   + tombol volume (fix)
------------------------- */
(function(){
  const audio = document.getElementById("backsound");
  const btn = document.getElementById("musicBtn");
  if(!audio || !btn) return;

  let playing = false;
  audio.volume = 0.3;

  // Perbarui ikon tombol
  function updateBtn(){
    if(playing){
      btn.innerHTML = "ðŸ”Š";
      btn.classList.add("audio-playing");
      btn.setAttribute('aria-pressed','true');
    } else {
      btn.innerHTML = "ðŸ”‡";
      btn.classList.remove("audio-playing");
      btn.setAttribute('aria-pressed','false');
    }
  }

  // Fungsi play dengan penanganan blok autoplay
  function tryPlay(){
    audio.play().then(()=> {
      playing = true;
      updateBtn();
    }).catch(()=>{
      // autoplay diblok, tetap muted
      playing = false;
      updateBtn();
    });
  }

  // Klik pada tombol volume â†’ toggle play/pause
  btn.addEventListener("click", () => {
    if(!playing){
      audio.play().then(()=>{
        playing = true;
        updateBtn();
      }).catch(()=>{
        // bila gagal diputar (autoplay block), tetap OFF
        playing = false;
        updateBtn();
      });
    } else {
      audio.pause();
      playing = false;
      updateBtn();
    }
  });

  // Klik pertama di halaman â†’ coba auto-play
  document.addEventListener('click', function once(){
    if(audio.paused){ tryPlay(); }
    document.removeEventListener('click', once);
  });

  // Set ikon awal
  updateBtn();
})();



/* -------------------------------------------------------
   Lite YouTube embed (hindari error config/153)
   - Tampilkan thumbnail dulu, iframe hanya dibuat saat diklik
   - Ada fallback link jika embed gagal dimuat
------------------------------------------------------- */
(function(){
  const originParam = location.protocol.startsWith('http') ? `&origin=${encodeURIComponent(location.origin)}` : '';
  const embedBase = 'https://www.youtube-nocookie.com/embed/';

  document.querySelectorAll('.yt-lite[data-youtube-id]').forEach(box => {
    const id = box.dataset.youtubeId;
    if(!id) return;
    const title = box.dataset.title || 'Video YouTube';
    const thumb = `https://i.ytimg.com/vi/${id}/hqdefault.jpg`;

    // Pastikan fokus & peran tombol
    if(!box.hasAttribute('tabindex')) box.setAttribute('tabindex','0');
    if(!box.hasAttribute('role')) box.setAttribute('role','button');
    box.setAttribute('aria-label', box.getAttribute('aria-label') || `Putar ${title}`);

    box.innerHTML = `
      <div class="yt-thumb" style="background-image:url('${thumb}')"></div>
      <div class="yt-play">â–¶</div>
      <div class="yt-label">Putar</div>
    `;

    function activate(){
      if(box.dataset.active === 'true') return;
      box.dataset.active = 'true';

      const iframe = document.createElement('iframe');
      iframe.src = `${embedBase}${id}?rel=0&modestbranding=1&playsinline=1${originParam}&autoplay=1`;
      iframe.title = title;
      iframe.loading = 'lazy';
      iframe.referrerPolicy = 'origin-when-cross-origin';
      iframe.setAttribute('allow','accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share');
      iframe.setAttribute('allowfullscreen','');
      iframe.style.position = 'absolute';
      iframe.style.inset = '0';
      iframe.style.width = '100%';
      iframe.style.height = '100%';
      iframe.style.border = '0';

      let loaded = false;
      const showFallback = () => {
        if(loaded) return;
        loaded = true;
        const link = document.createElement('a');
        link.href = `https://youtu.be/${id}`;
        link.target = '_blank';
        link.rel = 'noopener';
        link.className = 'yt-fallback';
        link.textContent = 'Buka di YouTube';
        box.replaceChildren(link);
      };

      iframe.addEventListener('load', () => { loaded = true; });
      iframe.addEventListener('error', showFallback);
      box.replaceChildren(iframe);
      setTimeout(showFallback, 6000);
    }

    box.addEventListener('click', activate);
    box.addEventListener('keydown', (e) => {
      if(e.key === 'Enter' || e.key === ' '){
        e.preventDefault();
        activate();
      }
    });
  });
})();


/* -------------------------------------------------------
   NAVBAR CLICK SOUND â€” khusus menu Profil/Budaya/Pariwisata/Geografi/Fakta
------------------------------------------------------- */
(function () {
  const navSrc = 'navsound.mp3';
  let navAudio = null;

  try {
    navAudio = new Audio(navSrc);
    navAudio.volume = 0.85;
  } catch (e) {
    navAudio = null;
  }

  function playNavSound() {
    if (!navAudio) return;
    try {
      const clone = navAudio.cloneNode(true);
      clone.play().catch(() => {});
    } catch (e) {}
  }

  const navLinks = document.querySelectorAll('#mainNav a');

  navLinks.forEach(link => {
    link.addEventListener('click', () => {
      playNavSound();
    });
  });
})();
/* -------------------------------------------------------
   GLOBAL CLICK SOUND â€” Optimized, Safe, No Double Trigger
   Bunyi untuk:
   - button
   - link <a>
   - elemen dengan data-sound="click"
------------------------------------------------------- */
(function () {
  const clickSrc = 'btnsound.wav';

  let clickAudio = null;
  try {
    clickAudio = new Audio(clickSrc);
    clickAudio.volume = 0.75;
  } catch (e) {
    clickAudio = null;
  }

  function playClickSound() {
    if (!clickAudio) return;
    try {
      const clone = clickAudio.cloneNode(true);
      clone.play().catch(() => {});
    } catch (e) {}
  }

  document.addEventListener(
    "click",
    function (e) {
      const el = e.target.closest("button, a, [data-sound='click']");
      if (!el) return;

      // Skip tombol musik
      if (el.id === "musicBtn") return;

      // Skip NAVBAR karena punya suara khusus
      if (el.closest("#mainNav")) return;

      playClickSound();
    },
    { passive: true }
  );
})();

/* -------------------------------------------------------
   3D Card Tilt Effect
------------------------------------------------------- */
(function() {
  const cards = document.querySelectorAll('.card-interactive');
  const maxRotation = 12; // max rotation in degrees

  cards.forEach(card => {
    card.addEventListener('mousemove', (e) => {
      const { left, top, width, height } = card.getBoundingClientRect();
      const x = e.clientX - left;
      const y = e.clientY - top;

      const rotateX = maxRotation * ((y / height) - 0.5) * -2;
      const rotateY = maxRotation * ((x / width) - 0.5) * 2;

      card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale3d(1.04, 1.04, 1.04)`;
    });

    card.addEventListener('mouseleave', () => {
      card.style.transform = 'perspective(1000px) rotateX(0) rotateY(0) scale3d(1, 1, 1)';
    });
  });
})();

/* -------------------------------------------------------
   Staggered Nav Link & Image Load Animation
------------------------------------------------------- */
document.addEventListener('DOMContentLoaded', () => {
  // Staggered Nav Link Animation
  const navLinks = document.querySelectorAll('#mainNav a');
  navLinks.forEach((link, index) => {
    link.style.animationDelay = `${index * 0.1}s`;
  });

  // Image Loading Animation
  const images = document.querySelectorAll('.gallery img, .place img');
  images.forEach(img => {
    if (img.complete) {
      img.style.animation = 'none';
    } else {
      img.addEventListener('load', () => {
        img.style.animation = 'none';
      });
    }
  });
});

  </script>
</body>
</html>
